<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Estudos Definitiva v2 - T√©cnico Legislativo - Leopoldina/MG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Premium Study Blue -->
    <!-- Application Structure Plan: A arquitetura final adota uma estrutura modular hier√°rquica e granular, espelhando fielmente o conte√∫do program√°tico detalhado fornecido pelo usu√°rio. Cada disciplina √© dividida em m√≥dulos tem√°ticos (ex: "Gram√°tica", "L√≥gica Matem√°tica"), que por sua vez cont√™m os t√≥picos de estudo como acorde√µes interativos. Essa organiza√ß√£o ultra detalhada garante 100% de cobertura e facilita a navega√ß√£o e o foco do estudante. As funcionalidades de checklist, modal de quest√µes e barras de progresso foram mantidas e integradas a esta estrutura refinada. -->
    <!-- Visualization & Content Choices: 1. Gr√°fico de Progresso (Doughnut Chart): Goal -> Vis√£o geral do avan√ßo. Viz -> Chart.js. Interaction -> Hover. Justification -> Gamifica√ß√£o. 2. Barras de Progresso por Disciplina: Goal -> Detalhar avan√ßo por mat√©ria. Viz -> HTML/CSS. Interaction -> Atualiza√ß√£o din√¢mica. Justification -> Feedback visual. 3. M√≥dulos e T√≥picos (Acorde√£o aninhado): Goal -> Organizar conte√∫do de forma hier√°rquica e fiel ao edital. Viz -> HTML/Tailwind. Interaction -> Expandir, clicar, marcar, abrir modal. Justification -> Estrutura de estudo profissional. 4. Modal de Quest√µes: Goal -> Pr√°tica focada. Viz -> HTML/Tailwind. Interaction -> Abrir, responder, verificar. Justification -> Valida√ß√£o do aprendizado. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f2f5; }
        .tab-button.active { border-color: #2563eb; color: #2563eb; background-color: #dbeafe; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .accordion-button.open + .accordion-content { max-height: 2000px; }
        .accordion-button .icon { transition: transform 0.3s ease; }
        .accordion-button.open .icon { transform: rotate(180deg); }
        .chart-container { position: relative; width: 100%; max-width: 380px; margin: auto; height: auto; max-height: 380px; }
        .progress-bar-bg { background-color: #e5e7eb; }
        .progress-bar-fill { background-color: #2563eb; transition: width 0.5s ease-in-out; }
        #question-modal { transition: opacity 0.3s ease; }
        .completed-topic > button { background-color: #d1fae5 !important; border-left-color: #10b981 !important; }
        .completed-topic > button span.font-bold { color: #065f46; }
        .module-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e3a8a;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #93c5fd;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body class="text-gray-900">

    <div id="app-container" class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800">Plataforma de Estudos</h1>
            <p class="text-lg text-gray-600 mt-2">Foco Total: T√©cnico Legislativo - C√¢mara de Leopoldina/MG (IBGP)</p>
        </header>

        <main id="main-content" class="bg-white rounded-2xl shadow-2xl p-4 sm:p-8">
            <div class="border-b border-gray-200 mb-6">
                <nav id="tabs" class="-mb-px flex flex-wrap justify-center gap-2 md:gap-4 text-sm font-medium text-center" aria-label="Tabs"></nav>
            </div>
            <div id="tab-content" class="min-h-[600px]"></div>
        </main>
        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>Desenvolvido por In√°cio. Bons estudos!</p>
        </footer>
    </div>
    
    <div id="question-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div id="question-modal-content" class="bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto transform scale-95 transition-transform duration-300">
            <div class="sticky top-0 bg-white border-b p-4 flex justify-between items-center z-10">
                <h2 id="modal-title" class="text-xl font-bold">Praticar Quest√µes</h2>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 text-3xl leading-none">&times;</button>
            </div>
            <div id="modal-body" class="p-6 space-y-6"></div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const courseData = {
            portugues: {
                name: "üìù Portugu√™s",
                modules: [
                    { 
                        title: 'Compreens√£o e Interpreta√ß√£o de Textos',
                        topics: [
                            { id: 'port_1_1', title: 'Compreens√£o e Interpreta√ß√£o de Textos', description: 'Habilidade de analisar textos de diversos g√™neros, identificando a ideia principal, inferindo informa√ß√µes e compreendendo a estrutura argumentativa.', usefulLinks: [{ name: 'Dicas de Interpreta√ß√£o (Artigo)', url: 'https://www.todamateria.com.br/interpretacao-de-textos/' }], questions: [ { q: '(IBGP/2023) Em um texto dissertativo, a tese geralmente se encontra:', a: '2', o: ['Na conclus√£o', 'Na introdu√ß√£o', 'No desenvolvimento', 'No t√≠tulo'] } ] },
                            { id: 'port_1_2', title: 'G√™neros e Tipos Textuais', description: 'Estudo das diferentes formas de organiza√ß√£o textual (narra√ß√£o, descri√ß√£o, disserta√ß√£o) e dos g√™neros que circulam socialmente (not√≠cia, cr√¥nica, artigo de opini√£o).', usefulLinks: [{ name: 'G√™neros Textuais (Resumo)', url: 'https://www.portugues.com.br/redacao/generostextuais.html' }], questions: [ { q: '(IBGP/Adaptada) Um texto que relata acontecimentos em sequ√™ncia de tempo √© predominantemente:', a: '1', o: ['Narrativo', 'Descritivo', 'Injuntivo', 'Expositivo'] } ] },
                            { id: 'port_1_3', title: 'Significa√ß√£o das Palavras, Figuras de Linguagem e Sintaxe', description: 'An√°lise do sentido das palavras (sinon√≠mia, anton√≠mia) e o uso de figuras de linguagem (met√°fora, meton√≠mia) e de sintaxe (elipse, zeugma) para dar expressividade ao texto.', usefulLinks: [{ name: 'Guia de Figuras de Linguagem', url: 'https://www.todamateria.com.br/figuras-de-linguagem/' }], questions: [ { q: '(IBGP/2023) Na frase "Ele √© um le√£o na batalha", temos um exemplo de:', a: '2', o: ['Hip√©rbole', 'Met√°fora', 'Eufemismo', 'Ironia'] } ] },
                            { id: 'port_1_4', title: 'Coes√£o e Coer√™ncia Textual', description: 'Estudo dos elementos que conectam as partes de um texto (coes√£o) e que lhe d√£o sentido l√≥gico (coer√™ncia), como pronomes, conjun√ß√µes e operadores argumentativos.', usefulLinks: [{ name: 'Mecanismos de Coes√£o (Artigo)', url: 'https://brasilescola.uol.com.br/redacao/coesao-coerencia.htm' }], questions: [ { q: '(IBGP/2022) O uso de pronomes como "ele", "ela", "este" para retomar termos j√° ditos no texto √© um mecanismo de coes√£o:', a: '1', o: ['Referencial', 'Sequencial', 'Lexical', 'Temporal'] } ] },
                        ]
                    },
                    {
                        title: 'Gram√°tica',
                        topics: [
                             { id: 'port_2_1', title: 'Classes de Palavras e Forma√ß√£o de Palavras', description: 'Estudo de substantivos, adjetivos, verbos, etc., e dos processos de forma√ß√£o de novas palavras (deriva√ß√£o e composi√ß√£o).', usefulLinks: [{ name: 'Resumo das 10 Classes Gramaticais', url: 'https://www.portugues.com.br/gramatica/classes-palavras-.html' }], questions: [ { q: '(IBGP/Adaptada) Na frase "O estudo constante leva √† aprova√ß√£o", a palavra "constante" classifica-se como:', a: '2', o: ['Substantivo', 'Adjetivo', 'Adv√©rbio', 'Verbo'] } ] },
                             { id: 'port_2_2', title: 'Verbos: Flex√£o, Conjuga√ß√£o e Vozes', description: 'Dom√≠nio da conjuga√ß√£o verbal nos diferentes modos e tempos, correla√ß√£o verbal e as vozes do verbo (ativa, passiva, reflexiva).', usefulLinks: [{ name: 'Guia completo de Verbos', url: 'https://www.conjugacao.com.br/' }], questions: [{ q: '(IBGP/Adaptada) Se ele ________ o livro, n√≥s o compraremos. A forma verbal correta √©:', a: '3', o:['ver', 'v√™', 'vir', 'visse'] }] },
                             { id: 'port_2_3', title: 'Concord√¢ncia, Reg√™ncia e Crase', description: 'Regras de harmonia entre os termos (concord√¢ncia), rela√ß√£o de depend√™ncia (reg√™ncia) e a fus√£o da preposi√ß√£o "a" com o artigo "a" (crase). T√≥picos de alta incid√™ncia.', usefulLinks: [{ name: 'Quando usar a Crase (Guia)', url: 'https://www.culturagenial.com/quando-usar-a-crase/' }], questions: [ { q: '(IBGP/2022) A frase com concord√¢ncia verbal CORRETA √©:', a: '4', o: ['Fazem dois anos que n√£o o vejo.', 'Houveram muitos problemas.', 'Existe muitas pessoas esperando.', 'Mais de um candidato chegou atrasado.'] } ] },
                             { id: 'port_2_4', title: 'Coloca√ß√£o Pronominal', description: 'Estudo da posi√ß√£o correta dos pronomes obl√≠quos √°tonos (me, te, se, o, a, lhe) em rela√ß√£o ao verbo: pr√≥clise, mes√≥clise e √™nclise.', usefulLinks: [{ name: 'Regras de Coloca√ß√£o Pronominal', url: 'https://www.soportugues.com.br/secoes/sintaxe/sintaxe8.php' }], questions: [{ q: '(IBGP/2023) Assinale a alternativa em que a coloca√ß√£o pronominal est√° INCORRETA:', a: '1', o:['Me empresta o livro?', 'N√£o se esque√ßa de mim.', 'Far-lhe-ei uma visita.', 'Os alunos que se esfor√ßaram foram aprovados.']}] },
                        ]
                    },
                    {
                        title: 'Estrutura e Ortografia',
                        topics: [
                             { id: 'port_3_1', title: 'Estrutura da Ora√ß√£o e do Per√≠odo (Sintaxe)', description: 'An√°lise dos termos da ora√ß√£o (sujeito, predicado, objetos) e da rela√ß√£o entre as ora√ß√µes em um per√≠odo (coordena√ß√£o e subordina√ß√£o).', usefulLinks: [{ name: 'Guia de An√°lise Sint√°tica', url: 'https://www.soportugues.com.br/secoes/sintaxe/' }], questions: [ { q: '(IBGP/2023) Na ora√ß√£o "Precisa-se de funcion√°rios", o sujeito √©:', a: '3', o: ['Simples (funcion√°rios)', 'Oculto', 'Indeterminado', 'Inexistente'] } ] },
                             { id: 'port_3_2', title: 'Acentua√ß√£o, Ortografia e Pontua√ß√£o', description: 'Estudo do emprego correto dos sinais de pontua√ß√£o (v√≠rgula, ponto, etc.) e das regras de escrita das palavras, incluindo o uso do h√≠fen e acentua√ß√£o gr√°fica.', usefulLinks: [{ name: 'Uso da V√≠rgula (Resumo)', url: 'https://www.todamateria.com.br/uso-da-virgula/' }], questions: [ { q: '(IBGP/2023) A palavra "ideia" n√£o √© mais acentuada devido √† regra que aboliu o acento dos:', a: '2', o: ['Hiatos', 'Ditongos abertos em parox√≠tonas', 'Monoss√≠labos t√¥nicos', 'Proparox√≠tonas'] } ] },
                        ]
                    }
                ],
            },
            raciocinio: {
                name: "üßÆ Racioc√≠nio L√≥gico",
                modules: [
                    {
                        title: "L√≥gica Matem√°tica",
                        topics: [
                             { id: 'racio_1_1', title: 'Proposi√ß√µes, Conectivos e Tabela-Verdade', description: 'Fundamentos da l√≥gica proposicional. Aprenda sobre proposi√ß√µes, conectivos (e, ou, se...ent√£o), equival√™ncias, nega√ß√µes e a Tabela-Verdade.', usefulLinks: [{ name: 'Tabela Verdade (Artigo Completo)', url: 'https://brasilescola.uol.com.br/matematica/tabela-verdade.htm' }], questions: [ { q: '(IBGP/2023) A nega√ß√£o da proposi√ß√£o "Jo√£o estuda e Maria trabalha" √©:', a: '3', o: ['Jo√£o n√£o estuda e Maria n√£o trabalha.', 'Se Jo√£o estuda, ent√£o Maria trabalha.', 'Jo√£o n√£o estuda ou Maria n√£o trabalha.', 'Jo√£o estuda ou Maria trabalha.'] } ] }
                        ]
                    },
                    {
                        title: "Conjuntos",
                        topics: [
                             { id: 'racio_2_1', title: 'Teoria dos Conjuntos', description: 'Estudo das rela√ß√µes de pertin√™ncia, inclus√£o, e opera√ß√µes entre conjuntos (uni√£o, interse√ß√£o, diferen√ßa). A resolu√ß√£o de problemas com diagramas de Venn √© comum.', usefulLinks: [{ name: 'Opera√ß√µes com Conjuntos (Resumo)', url: 'https://www.todamateria.com.br/operacoes-com-conjuntos/' }], questions: [ { q: '(IBGP/Adaptada) Numa sala com 30 alunos, 15 gostam de matem√°tica, 20 de portugu√™s e 10 de ambas. Quantos n√£o gostam de nenhuma?', a: '2', o: ['10', '5', '15', '0'] } ] },
                        ]
                    },
                    {
                        title: "Opera√ß√µes e N√∫meros",
                        topics: [
                            { id: 'racio_3_1', title: 'Opera√ß√µes e N√∫meros Naturais', description: 'Opera√ß√µes fundamentais, MDC, MMC e propriedades dos n√∫meros naturais. Base para a resolu√ß√£o de diversos problemas l√≥gicos.', usefulLinks: [], questions: [{q: '(IBGP/2022) O M√≠nimo M√∫ltiplo Comum (MMC) entre 12 e 18 √©:', a:'3', o: ['6', '24', '36', '72']}] },
                        ]
                    },
                    {
                        title: "Racioc√≠nio e Problemas",
                        topics: [
                            { id: 'racio_4_1', title: 'An√°lise Combinat√≥ria e Probabilidade', description: 'T√©cnicas de contagem (Arranjo, Combina√ß√£o, Permuta√ß√£o) e c√°lculo da chance de um evento ocorrer. A banca IBGP costuma apresentar problemas pr√°ticos.', usefulLinks: [{ name: 'F√≥rmulas de An√°lise Combinat√≥ria', url: 'https://www.todamateria.com.br/analise-combinatoria/' }], questions: [ { q: '(IBGP/Adaptada) De quantas maneiras 3 pessoas podem sentar em um sof√° de 5 lugares?', a: '2', o: ['10', '60', '125', '15'] } ] },
                            { id: 'racio_4_2', title: 'Sequ√™ncias L√≥gicas e Verdades/Mentiras', description: 'Identifica√ß√£o de padr√µes em sequ√™ncias num√©ricas, de figuras ou palavras. Resolu√ß√£o de problemas que envolvem dedu√ß√£o l√≥gica a partir de declara√ß√µes verdadeiras ou falsas.', usefulLinks: [], questions: [ { q: '(IBGP/2022) Qual o pr√≥ximo n√∫mero na sequ√™ncia 2, 3, 5, 8, 12, ...?', a: '3', o: ['15', '16', '17', '18'] } ] },
                        ]
                    }
                ]
            },
            informatica: {
                name: "üíª No√ß√µes de Inform√°tica",
                modules: [
                    {
                        title: "Sistemas de Backup e Operacionais",
                        topics: [
                             { id: 'info_1_1', title: 'Sistemas de Backup e Conting√™ncia', description: 'Conceitos de c√≥pias de seguran√ßa (completo, incremental, diferencial), planos de conting√™ncia e m√≠dias de armazenamento.', usefulLinks: [], questions: [{q: '(IBGP/Adaptada) O tipo de backup que salva apenas os arquivos alterados desde o √∫ltimo backup (seja ele qual for) √© o:', a: '2', o: ['Completo', 'Incremental', 'Diferencial', 'Di√°rio']}]},
                             { id: 'info_1_2', title: 'Sistemas Operacionais (Windows 10)', description: 'Opera√ß√µes b√°sicas no sistema operacional: manipula√ß√£o de janelas, cria√ß√£o e organiza√ß√£o de pastas, atalhos, e configura√ß√µes do Painel de Controle.', usefulLinks: [{ name: 'Atalhos do Teclado no Windows', url: 'https://support.microsoft.com/pt-br/windows/atalhos-de-teclado-no-windows-dcc61a57-8ff0-cffe-9796-cb9706c75eec' }], questions: [ { q: '(IBGP/2023) Qual atalho √© usado para recortar um arquivo no Windows Explorer?', a: '1', o: ['Ctrl + X', 'Ctrl + C', 'Ctrl + V', 'Ctrl + Z'] } ] },
                        ]
                    },
                    {
                        title: "Pacote Office e Redes",
                        topics: [
                             { id: 'info_2_1', title: 'Pacote Microsoft Office', description: 'Funcionalidades de escrit√≥rio: formata√ß√£o de texto, tabelas (Word); f√≥rmulas b√°sicas (SOMA, M√âDIA), gr√°ficos (Excel); cria√ß√£o de apresenta√ß√µes (PowerPoint).', usefulLinks: [{ name: '10 F√≥rmulas Essenciais do Excel', url: 'https://rockcontent.com/br/blog/formulas-do-excel/' }], questions: [ { q: '(IBGP/2023) No Excel, qual f√≥rmula soma os valores das c√©lulas A1 e A2?', a: '4', o: ['=SOMA(A1:A2)', '=A1+A2', '=SOMA(A1+A2)', 'Todas as anteriores est√£o corretas.'] } ] },
                             { id: 'info_2_2', title: 'Internet e Redes', description: 'Conceitos de navega√ß√£o web, protocolos, e uso de correio eletr√¥nico, incluindo anexos, cat√°logos de endere√ßo e organiza√ß√£o de mensagens.', usefulLinks: [], questions: [ { q: '(IBGP/Adaptada) O protocolo padr√£o para visualiza√ß√£o de p√°ginas na web √© o:', a: '2', o: ['FTP', 'HTTP/HTTPS', 'SMTP', 'POP3'] } ] },
                             { id: 'info_2_3', title: 'Hardware, Software e Seguran√ßa', description: 'Conceitos essenciais de componentes, seguran√ßa digital: v√≠rus, malware, phishing, firewall e boas pr√°ticas para proteger dados.', usefulLinks: [{ name: 'Cartilha de Seguran√ßa para Internet', url: 'https://cartilha.cert.br/' }], questions: [ { q: '(IBGP/2023) Um e-mail que tenta enganar o usu√°rio para que ele revele informa√ß√µes confidenciais √© um exemplo de:', a: '2', o: ['Spam', 'Phishing', 'Malware', 'V√≠rus'] } ] },
                             { id: 'info_2_4', title: 'Redes Sociais', description: 'Compreens√£o do funcionamento, caracter√≠sticas, vantagens e desvantagens das principais redes sociais no contexto atual.', usefulLinks: [], questions: [{ q: '(IBGP) Qual caracter√≠stica √© mais associada a redes sociais como o LinkedIn?', a: '3', o:['Compartilhamento de v√≠deos curtos', 'Mensagens ef√™meras', 'Networking profissional', 'Debates em f√≥runs an√¥nimos'] }]}
                        ]
                    }
                ]
            },
            gerais: {
                name: "üåé Conhecimentos Gerais",
                modules: [
                    {
                        title: "Atualidades e Cultura Geral",
                        topics: [
                             { id: 'gerais_1_1', title: 'Atualidades e Temas Relevantes', description: 'Acompanhamento dos principais fatos pol√≠ticos, econ√¥micos e sociais dos √∫ltimos anos, al√©m de temas como meio ambiente, sa√∫de e tecnologia.', usefulLinks: [{ name: 'Playlist de Atualidades (Semanal)', url: 'https://www.youtube.com/playlist?list=PLg0_A-m_f4v1-iC-5pEftbfL2Tj3JkT-d' }, {name: 'Site da C√¢mara de Leopoldina', url: 'https://www.leopoldina.mg.leg.br/'}], questions: [ { q: 'Aten√ß√£o: A melhor forma de estudo √© acompanhar telejornais e portais de not√≠cias. As quest√µes da prova ser√£o sobre eventos recentes.', a: '1', o: ['Entendido, manterei meus estudos de atualidades em dia!'] } ] },
                        ]
                    }
                ]
            },
            especificos: {
                name: "‚öñÔ∏è Conhecimentos Espec√≠ficos",
                modules: [
                    {
                        title: "No√ß√µes de Direito Administrativo",
                        topics: [
                            { id: 'espec_1_1', title: 'Princ√≠pios, Poderes, Atos e Controle da Administra√ß√£o', description: 'A base do Direito Administrativo. Estude os princ√≠pios (LIMPE), os elementos do ato administrativo (COFIFOMOB), os poderes e as formas de controle da Administra√ß√£o.', usefulLinks: [{ name: 'Resumo de Direito Administrativo', url: 'https://www.projuris.com.br/direito-administrativo/' }], questions: [ { q: '(IBGP/2023) A sigla LIMPE, referente aos princ√≠pios da Administra√ß√£o P√∫blica, N√ÉO inclui:', a: '3', o: ['Legalidade', 'Impessoalidade', 'Motiva√ß√£o', 'Publicidade'] } ] },
                            { id: 'espec_1_2', title: 'Licita√ß√µes, Contratos e Processo Administrativo', description: 'A Nova Lei de Licita√ß√µes (14.133/21), as regras para contratos administrativos e o funcionamento do processo administrativo (Lei 9.784/99).', usefulLinks: [{ name: 'Lei n¬∫ 14.133/2021 (Texto Compilado)', url: 'https://www.planalto.gov.br/ccivil_03/_ato2019-2022/2021/lei/l14133.htm' }], questions: [ { q: '(IBGP/Adaptada) Conforme a Lei 14.133/21, a modalidade para contrata√ß√£o de bens e servi√ßos especiais √©:', a: '2', o: ['Preg√£o', 'Concorr√™ncia', 'Leil√£o', 'Di√°logo competitivo'] } ] },
                            { id: 'espec_1_3', title: 'Servidores P√∫blicos e Improbidade Administrativa', description: 'Estudo do regime jur√≠dico dos servidores, seus direitos e deveres. An√°lise da Lei de Improbidade (Lei 8.429/92 com altera√ß√µes), que trata dos atos contra a administra√ß√£o.', usefulLinks: [{ name: 'Lei n¬∫ 8.429/1992 (Improbidade)', url: 'http://www.planalto.gov.br/ccivil_03/leis/l8429.htm' }], questions: [ { q: '(IBGP/2022) A conduta de um agente que causa preju√≠zo ao er√°rio, mesmo sem enriquecimento il√≠cito, pode configurar ato de improbidade?', a: '1', o: ['Sim, na modalidade de preju√≠zo ao er√°rio.', 'N√£o, apenas se houver enriquecimento il√≠cito.', 'N√£o, se atentar contra os princ√≠pios.', 'Depende do valor do preju√≠zo.'] } ] },
                        ]
                    },
                    {
                        title: "Administra√ß√£o, Organiza√ß√£o e Gest√£o",
                        topics: [
                            { id: 'espec_2_1', title: 'Administra√ß√£o, Organiza√ß√£o e Reda√ß√£o Oficial', description: 'T√©cnicas de organiza√ß√£o, planejamento e controle. Estudo da comunica√ß√£o e elabora√ß√£o de documentos oficiais (of√≠cio, memorando) segundo o Manual de Reda√ß√£o da Presid√™ncia.', usefulLinks: [{ name: 'Manual de Reda√ß√£o da Presid√™ncia da Rep√∫blica', url: 'https://www.gov.br/casacivil/pt-br/assuntos/redacao-oficial' }], questions: [ { q: '(IBGP/Adaptada) O fecho padr√£o para comunica√ß√µes dirigidas a autoridades de mesma hierarquia, segundo o Manual de Reda√ß√£o, √©:', a: '2', o: ['Respeitosamente,', 'Atenciosamente,', 'Com os melhores cumprimentos,', 'Sauda√ß√µes cordiais,'] } ] },
                             { id: 'espec_2_2', title: 'Gest√£o de Pessoas e Trabalho', description: 'Conceitos de RH no setor p√∫blico, trabalho em equipe, produtividade, distribui√ß√£o de tarefas, delega√ß√£o e responsabilidades no ambiente de trabalho.', usefulLinks: [], questions: [{q: '(IBGP) O processo de dividir tarefas e designar autoridade para sua execu√ß√£o √© conhecido como:', a: '3', o:['Planejamento', 'Controle', 'Delega√ß√£o', 'Organiza√ß√£o']}] },
                             { id: 'espec_2_3', title: 'Administra√ß√£o de Recursos e Documentos', description: 'Conceitos de almoxarifado, controle de materiais, organiza√ß√£o e administra√ß√£o de documentos e manuais administrativos.', usefulLinks: [], questions: [{q: '(IBGP) A classifica√ß√£o de materiais quanto √† sua import√¢ncia operacional em X, Y e Z √© conhecida como:', a: '1', o:['Curva ABC', 'M√©todo PEPS', 'Just-in-Time', 'Controle de Estoque M√≠nimo']}] },
                        ]
                    },
                    {
                         title: "Legisla√ß√£o e Normas Essenciais",
                         topics: [
                             { id: 'espec_3_1', title: 'LAI, LGPD e LC 95/98', description: 'Tr√™s leis fundamentais: Lei de Acesso √† Informa√ß√£o, Lei Geral de Prote√ß√£o de Dados e a Lei Complementar 95/98 sobre a elabora√ß√£o de atos normativos.', usefulLinks: [ { name: 'Lei n¬∫ 13.709/18 - LGPD', url: 'https://www.planalto.gov.br/ccivil_03/_ato2015-2018/2018/lei/l13709.htm' }, { name: 'Lei n¬∫ 12.527/11 - LAI', url: 'https://www.planalto.gov.br/ccivil_03/_ato2011-2014/2011/lei/l12527.htm' }, { name: 'LC n¬∫ 95/98', url: 'https://www.planalto.gov.br/ccivil_03/leis/lcp/lcp95.htm' } ], questions: [ { q: '(IBGP/Adaptada) Segundo a LGPD, o tratamento de dados pessoais somente poder√° ser realizado mediante o fornecimento de consentimento pelo:', a: '1', o: ['Titular', 'Controlador', 'Operador', 'Encarregado'] } ] },
                             { id: 'espec_3_2', title: 'Lei Org√¢nica e Regimento Interno de Leopoldina', description: 'A "constitui√ß√£o" do munic√≠pio e o manual de regras da C√¢mara. √â crucial a leitura atenta destes documentos, pois a IBGP cobra a "letra da lei".', usefulLinks: [ { name: 'Site Oficial da C√¢mara de Leopoldina', url: 'https://www.leopoldina.mg.leg.br/' } ], questions: [ { q: 'Aten√ß√£o: As quest√µes para este t√≥pico devem ser baseadas na leitura direta da legisla√ß√£o de Leopoldina. Foque em prazos, n√∫mero de vereadores, compet√™ncias e processo legislativo.', a: '1', o: ['Entendido! Vou buscar os documentos no site oficial.'] } ] },
                         ]
                    }
                ]
            }
        };

        const tabsContainer = document.getElementById('tabs');
        const tabContentContainer = document.getElementById('tab-content');
        let progressData = JSON.parse(localStorage.getItem('progressDataLeopoldina')) || {};
        
        function initializeApp() {
            Object.keys(courseData).forEach((key, index) => {
                if (index === 0) {
                     tabsContainer.innerHTML += `<button data-tab="geral" class="tab-button active">Vis√£o Geral</button>`;
                     tabsContainer.innerHTML += `<button data-tab="plano" class="tab-button">Plano Semanal</button>`;
                }
                const subject = courseData[key];
                tabsContainer.innerHTML += `
                    <button data-tab="${key}" class="tab-button relative">
                        ${subject.name}
                        <div class="progress-bar-bg absolute bottom-0 left-0 w-full h-1 rounded-full overflow-hidden">
                            <div id="progress-${key}" class="progress-bar-fill h-full rounded-full" style="width: 0%;"></div>
                        </div>
                    </button>`;
                
                const modulesHtml = subject.modules.map(module => {
                    const topicsHtml = module.topics.map(topic => createAccordionItem(topic)).join('');
                    return `
                        <div class="module-container mb-8">
                            <h3 class="module-title">
                                <span class="mr-2">üìÅ</span>
                                ${module.title}
                            </h3>
                            <div class="space-y-4 accordion-container">${topicsHtml}</div>
                        </div>`;
                }).join('');

                tabContentContainer.innerHTML += `
                    <div id="${key}" class="tab-pane hidden p-2">
                        <h2 class="text-3xl font-bold mb-2">${subject.name}</h2>
                        <p class="text-gray-600 mb-6 border-b pb-4">Selecione um t√≥pico abaixo para iniciar seus estudos.</p>
                        ${modulesHtml}
                    </div>`;
            });
            
            tabContentContainer.insertAdjacentHTML('afterbegin', createStaticTabsContent());
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.add('inline-block', 'py-3', 'px-4', 'border-b-2', 'border-transparent', 'rounded-t-lg', 'hover:text-blue-600', 'hover:bg-blue-50', 'font-semibold'));
            
            renderChart();
            loadProgress();
            updateAllProgressBars();
            setupEventListeners();
        }

        function createStaticTabsContent() {
            return `
                <div id="geral" class="tab-pane active p-2">
                     <h2 class="text-3xl font-bold mb-6 text-center">Painel do Aluno</h2>
                     <div class="grid lg:grid-cols-2 gap-8 items-center">
                        <div class="bg-blue-50 rounded-lg p-6 border border-blue-200">
                            <h3 class="font-bold text-xl mb-4 text-blue-800">Informa√ß√µes do Concurso</h3>
                             <ul class="space-y-3 text-gray-700">
                                <li class="flex"><strong class="w-32 shrink-0">√ìrg√£o:</strong> C√¢mara de Leopoldina/MG</li>
                                <li class="flex"><strong class="w-32 shrink-0">Cargo:</strong> T√©cnico Legislativo</li>
                                <li class="flex"><strong class="w-32 shrink-0">Banca:</strong> IBGP</li>
                                <li class="flex"><strong class="w-32 shrink-0">Prova:</strong> 23/11/2025 (Previsto)</li>
                            </ul>
                        </div>
                        <div>
                             <h3 class="text-xl font-semibold text-center mb-2">Progresso Geral</h3>
                            <div class="chart-container"><canvas id="progressChart"></canvas></div>
                        </div>
                    </div>
                </div>
                <div id="plano" class="tab-pane hidden p-2">
                     <h2 class="text-3xl font-bold mb-4 text-center">Ciclo de Estudo Semanal</h2>
                     <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">Modelo baseado no m√©todo Teoria-Revis√£o-Pr√°tica (TRP). Adapte √† sua realidade, mas mantenha a consist√™ncia e o simulado semanal.</p>
                    <div class="overflow-x-auto"><table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-md">
                        <thead class="bg-gray-100"><tr><th class="py-3 px-4 border-b text-left font-semibold text-gray-700">Dia</th><th class="py-3 px-4 border-b text-left font-semibold text-gray-700">Manh√£ (2.5h)</th><th class="py-3 px-4 border-b text-left font-semibold text-gray-700">Tarde (2.5h)</th><th class="py-3 px-4 border-b text-left font-semibold text-gray-700">Noite (1.5h)</th></tr></thead>
                        <tbody class="text-gray-700">
                            <tr><td class="p-3 border-b font-medium" colspan="4">Segunda</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b">Portugu√™s (Teoria)</td><td class="p-3 border-b">Espec√≠ficos (Teoria)</td><td class="p-3 border-b">Portugu√™s (Quest√µes)</td></tr>
                             <tr><td class="p-3 border-b font-medium" colspan="4">Ter√ßa</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b">Racioc√≠nio L√≥gico (Teoria)</td><td class="p-3 border-b">Espec√≠ficos (Teoria)</td><td class="p-3 border-b">Racioc√≠nio L√≥gico (Quest√µes)</td></tr>
                             <tr><td class="p-3 border-b font-medium" colspan="4">Quarta</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b">Inform√°tica (Teoria)</td><td class="p-3 border-b">Espec√≠ficos (Revis√£o)</td><td class="p-3 border-b">Inform√°tica (Quest√µes)</td></tr>
                             <tr><td class="p-3 border-b font-medium" colspan="4">Quinta</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b">Portugu√™s (Revis√£o)</td><td class="p-3 border-b">Espec√≠ficos (Quest√µes)</td><td class="p-3 border-b">Gerais (Leitura)</td></tr>
                             <tr><td class="p-3 border-b font-medium" colspan="4">Sexta</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b">Revis√£o Geral (mapas/flashcards)</td><td class="p-3 border-b">Espec√≠ficos (Revis√£o)</td><td class="p-3 border-b">Revis√£o Geral</td></tr>
                             <tr><td class="p-3 border-b font-medium text-white bg-blue-600" colspan="4">S√°bado (Dia de Simulado)</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b">Simulado Cronometrado IBGP</td><td class="p-3 border-b">Corre√ß√£o e An√°lise de Erros</td><td class="p-3 border-b">Descanso Leve</td></tr>
                             <tr><td class="p-3 border-b font-medium text-white bg-emerald-600" colspan="4">Domingo</td></tr>
                            <tr><td class="p-3 border-b"></td><td class="p-3 border-b" colspan="2">Descanso e Lazer</td><td class="p-3 border-b">Planejamento da Semana</td></tr>
                        </tbody>
                    </table></div>
                </div>`;
        }
        
        function createAccordionItem(topic) {
            const linksHtml = topic.usefulLinks.map(link => `<a href="${link.url}" target="_blank" rel="noopener noreferrer" class="flex items-center text-blue-600 hover:text-blue-800 hover:underline py-1 group">üîó <span class="ml-2">${link.name}</span></a>`).join('');
            return `
                <div id="topic-${topic.id}" class="border-l-4 border-gray-200 rounded-r-lg bg-white shadow-sm">
                    <button class="accordion-button w-full flex justify-between items-center text-left p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-bold text-lg">${topic.title}</span>
                        <div class="flex items-center">
                            <input type="checkbox" data-topic-id="${topic.id}" class="progress-checkbox h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-4 cursor-pointer" title="Marcar como conclu√≠do">
                            <span class="icon"><svg class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg></span>
                        </div>
                    </button>
                    <div class="accordion-content">
                        <div class="p-6 border-t border-gray-200">
                            <p class="text-gray-700 mb-6">${topic.description}</p>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold mb-2 text-gray-800">Links √öteis e Leis:</h4>
                                    <div class="space-y-2">${linksHtml || '<p class="text-sm text-gray-500">Nenhum link adicional.</p>'}</div>
                                </div>
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <h4 class="font-semibold mb-2 text-blue-800">Pratique o que aprendeu:</h4>
                                    <p class="text-sm text-blue-700 mb-3">Teste seus conhecimentos com quest√µes no estilo da banca IBGP.</p>
                                    <button data-topic-id="${topic.id}" class="practice-btn w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">Praticar Quest√µes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
        }

        function getTotalTopics() {
            return Object.values(courseData).reduce((acc, subject) => {
                return acc + subject.modules.reduce((modAcc, mod) => modAcc + mod.topics.length, 0);
            }, 0);
        }

        function getCompletedTopics() {
            return Object.keys(progressData).filter(k => progressData[k]).length;
        }

        function updateProgressBar(subjectKey) {
            const subject = courseData[subjectKey];
            if (!subject) return;
            const totalTopicsInSubject = subject.modules.reduce((acc, mod) => acc + mod.topics.length, 0);
            if (totalTopicsInSubject === 0) return;
            const completedTopicsInSubject = subject.modules.reduce((acc, mod) => {
                return acc + mod.topics.filter(t => progressData[t.id]).length;
            }, 0);
            const percentage = (completedTopicsInSubject / totalTopicsInSubject) * 100;
            const progressBar = document.getElementById(`progress-${subjectKey}`);
            if (progressBar) progressBar.style.width = `${percentage}%`;
        }
        
        function updateAllProgressBars() {
            Object.keys(courseData).forEach(key => updateProgressBar(key));
            if (window.progressChart && window.progressChart.data && window.progressChart.data.datasets) {
                const totalTopics = getTotalTopics();
                const completedTopics = getCompletedTopics();
                window.progressChart.data.datasets[0].data = [completedTopics, totalTopics - completedTopics];
                window.progressChart.update();
            }
        }

        function saveProgress() {
            localStorage.setItem('progressDataLeopoldina', JSON.stringify(progressData));
        }

        function loadProgress() {
            document.querySelectorAll('.progress-checkbox').forEach(cb => {
                if (progressData[cb.dataset.topicId]) {
                    cb.checked = true;
                    const topicElement = document.getElementById(`topic-${cb.dataset.topicId}`);
                    if (topicElement) {
                        topicElement.classList.add('completed-topic');
                    }
                }
            });
        }
        
        function setupEventListeners() {
            tabsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('button');
                if (!button) return;
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.add('hidden'));
                const targetPane = document.getElementById(button.dataset.tab);
                if(targetPane) targetPane.classList.remove('hidden');
            });

            tabContentContainer.addEventListener('click', e => {
                const accordionButton = e.target.closest('.accordion-button');
                if (accordionButton) accordionButton.classList.toggle('open');
                
                const checkbox = e.target.closest('.progress-checkbox');
                if(checkbox) {
                    progressData[checkbox.dataset.topicId] = checkbox.checked;
                    const topicElement = document.getElementById(`topic-${checkbox.dataset.topicId}`);
                    if (topicElement) {
                         topicElement.classList.toggle('completed-topic', checkbox.checked);
                    }
                    saveProgress();
                    updateAllProgressBars();
                }

                const practiceButton = e.target.closest('.practice-btn');
                if (practiceButton) {
                    const topicId = practiceButton.dataset.topicId;
                    for (const subjectKey in courseData) {
                        for (const module of courseData[subjectKey].modules) {
                            const topic = module.topics.find(t => t.id === topicId);
                            if (topic) {
                                openQuestionModal(topic);
                                return;
                            }
                        }
                    }
                }
            });
        }

        const modal = document.getElementById('question-modal');
        const modalContent = document.getElementById('question-modal-content');
        const closeModalBtn = document.getElementById('close-modal-btn');

        function openQuestionModal(topic) {
            document.getElementById('modal-title').textContent = `Quest√µes: ${topic.title}`;
            document.getElementById('modal-body').innerHTML = topic.questions.map((q, i) => `
                <div class="border rounded-lg p-4 bg-gray-50">
                    <p class="font-semibold mb-3">${i + 1}. ${q.q}</p>
                    <div class="space-y-2" id="options-q${i}">
                        ${q.o.map((opt, optIndex) => `
                            <div><label class="flex items-center cursor-pointer"><input type="radio" name="q${i}" value="${optIndex+1}" class="mr-2">${opt}</label></div>
                        `).join('')}
                    </div>
                    <div class="mt-4">
                        <button class="show-answer-btn text-sm text-blue-600 font-semibold" data-q-index="${i}">Verificar Resposta</button>
                        <p class="answer-text hidden mt-2 font-bold" data-correct-answer="${q.a}"></p>
                    </div>
                </div>
            `).join('');
            
            modal.querySelectorAll('.show-answer-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const qIndex = e.target.getAttribute('data-q-index');
                    const container = e.target.closest('.border');
                    const answerText = container.querySelector('.answer-text');
                    const selectedOption = container.querySelector(`input[name="q${qIndex}"]:checked`);
                    const correctAnswer = answerText.getAttribute('data-correct-answer');
                    const correctOptionText = topic.questions[qIndex].o[correctAnswer-1];

                    if (!selectedOption) {
                        answerText.textContent = "Por favor, selecione uma op√ß√£o.";
                        answerText.className = 'answer-text mt-2 font-bold text-yellow-600';
                        answerText.classList.remove('hidden');
                        return;
                    }

                    if (selectedOption.value === correctAnswer) {
                        answerText.textContent = `Correto! Gabarito: "${correctOptionText}"`;
                        answerText.className = 'answer-text mt-2 font-bold text-green-700';
                    } else {
                        answerText.textContent = `Incorreto. Gabarito: "${correctOptionText}"`;
                        answerText.className = 'answer-text mt-2 font-bold text-red-600';
                    }
                    answerText.classList.remove('hidden');
                });
            });

            modal.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('scale-95');
        }

        function closeQuestionModal() {
            modal.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95');
        }

        closeModalBtn.addEventListener('click', closeQuestionModal);
        modal.addEventListener('click', (e) => { if (e.target === modal) closeQuestionModal(); });

        function renderChart() {
            const ctx = document.getElementById('progressChart')?.getContext('2d');
            if(!ctx) return;
            const totalTopics = getTotalTopics();
            const completedTopics = getCompletedTopics();
            
            window.progressChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Conclu√≠dos', 'Pendentes'],
                    datasets: [{
                        data: [completedTopics, totalTopics - completedTopics],
                        backgroundColor: ['#2563eb', '#e5e7eb'],
                        borderColor: ['#ffffff'],
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false, cutout: '70%',
                    plugins: { legend: { display: false } }
                }
            });
        }
        
        initializeApp();
    });
    </script>
</body>
</html>
